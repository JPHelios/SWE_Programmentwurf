\chapter{Analyse-Klassen-Diagramm}

In diesem Kapitel wird zuerst auf die Klassen, welche für die Implementierung nötig sind, eingegangen bevor die Abhängigkeiten zwischen diesen Klassen nochmal übersichtlich mittel eines Analyse-Klassen-Diagramms dargestellt werden.

\section{Klassen}
\begin{multicols}{2}
\begin{itemize}
    \item Kunde
    \item Adresse
    \item Vertrag
    \item Mitarbeiter
    \item Rolle
    \item Buchung
    \item Fahrzeug
    \item Fahrzeugklasse
    \item Bild
    \item Reifensatz
    \item Reifen
    \item Kennzeichen
    \item Ausrüstung
    \item Rechnung
    \item Mahnung
    \item Standort
    \item Filiale
    \item Rabattaktion
    \item Backup
    \item Hundetransportbox
\end{itemize}
\end{multicols}

\newpage

\textbf{Kunde}: Die Kunden-Klasse stellt die Kunden dar und beinhaltet Attribute für alle Informationen, welche für die Identifikation und die Ausstellung von Rechnungen notwendig sind. Dazu besitzt die Klasse jeweils Assoziationen zu Adresse und Vertrag. Zusätzlich wird für die Identifikation eine ID gespeichert. Damit die Mitarbeiter mit dem Kunden einfacher in Kontakt treten können, wird ebenfalls eine Mail-Adresse und eine Telefonnummer gespeichert. 

\textbf{Adresse}: Die Adresse wird in Straße, Hausnummer, Ort und Postleitzahl aufgeteilt. Mit der Adress-Klasse werden die Adressen der Kunden und Filialen dargestellt. Die Klasse 'Adresse' referenziert auf keine Klasse, sondern wird nur von anderen Klassen referenziert.

\textbf{Vertrag}: Die Vertrags-Klasse bildet die Verträge ab, welche die Kunden bindet. Dazu wird neben dem Vor- und Nachnamen der Pfad gespeichert, unter welchem die Vertrags-Datei (PDF) zu finden ist. Für die Zuordnung im System zwischen Vertrag und Kunde referenziert der Vertrag die Klasse Kunde.

\textbf{Mitarbeiter}: Die Klasse 'Mitarbeiter' stellt die Mitarbeiter des Unternehmens dar. Da die Mitarbeiter unterschiedliche Aufgaben und dementsprechend unterschiedliche Rollen in der Anwendung haben, steht die Mitarbeiter-Klasse in Assoziation zur Klasse 'Rolle'. Um einen Überblick über Anzahl der Mitarbeiter der Verschiedenen Standorte und Filialen zu erhalten gibt es ebenfalls eine Assoziation zur Klasse 'Filiale'. Für die Sicherung dieser und allen anderen Daten des Systems sollen Backups erstellt werden können, welche auf einen Mitarbeiter zurückführbar sein sollen. Daher muss die Mitarbeiter-Klasse auch in Assoziation zur Klasse 'Backup' stehen.

\textbf{Rolle}: Mit den Rollen sollen die Rechte innerhalb der Anwendung verteilt werden können. Dazu stellt die Klasse 'Rolle' neben dem Rollennamen für alle Funktionen der Anwendung jeweils ein Attribut bereit, welches vom Datentyp Boolean ist und angibt, ob ein Nutzer mit dieser Rolle Zugriff auf die entsprechende Funktion haben soll. Die Klasse 'Rolle' referenziert keine anderen Klassen, sondern wird nur von der Klasse 'Mitarbeiter' referenziert.

\textbf{Buchung}: Die Buchung wird als Koordinator-Klasse zwischen dem Kunden und dem Mitarbeiter dargestellt. Diese Klasse stellt einen vereinbarten Termin für die Mietung eines Autos dar. Dazu wird der Mitarbeiter, welcher die Buchung angelegt hat zusammen mit dem Kunden und dem Datum sowie der Uhrzeit des Termins gespeichert. Außerdem steht die Klasse 'Buchung' in Assoziation mit der Fahrzeug-Klasse, um festlegen zu können, welches Auto gemietet werden soll. Da bei einer Buchung eines Fahrzeugs der Preis durch Rabattaktionen beeinflusst werden kann, steht die Buchungs-Klasse in Assoziation mit der Klasse 'Rabattaktion'. Nach dem Termin soll dem Kunden eine Rechnung mit den Buchungsdaten und anschließend eine Mahnung, falls der Kunde nicht rechtzeitig überweißt, geschickt werden, weshalb es zusätzlich jeweils noch eine Assoziation zu 'Buchung' und 'Mahnung' geben muss.
Eine Buchung referenziert in dieser Hinsicht immer nur eine Rechnung und maximal zwei Mahnungen, da nur ein mal eine Rechnung gesendet wird und falls der Kunde nach der zweiten Mahnung nicht zahlt keine weiteren Mahnungen mehr gesendet werden. Anstelle einer weiteren Mahnung lassen wir das schweizer Bankkonto des Kunden einfrieren.

\textbf{Fahrzeug}: Die Klasse Fahrzeuge ist für das Abbilden der Fahrzeuge zuständig. Jedes Fahrzeug ist dabei einer Fahrzeugklasse zugeordnet. Für die Darstellung eines Fahrzeugs referenziert die Klasse 'Fahrzeug' zudem die Klassen 'Kennzeichen', 'Reifensatz', 'Bild' und 'Ausrüstung'. Dabei kann jeweils nur ein Kennzeichen und Reifensatz referenziert werden. Für Bilder und Ausrüstung gibt es jedoch keine Obergrenze.

\textbf{Fahrzeugklasse}: Die Fahrzeugklassen sind für das Unterteilen der Fahrzeuge in verschiedene Kategorien zuständig. Diese Kategorien werden mit der Klasse 'Fahrzeugklasse' dargestellt. Eine Kategorie zeichnet sich dabei durch einen Namen, einen Preis und den benötigten Führerschein aus. Solch einer Kategorie sind beliebig viele Fahrzeuge zugeordnet.

\textbf{Bild}: Die Klasse Bild stellt die Bilder der Fahrzeuge dar. Jedes Bild ist einem Fahrzeug zugeordnet, weshalb die Klasse 'Bild' in Assoziation mit der Klasse 'Fahrzeug' steht. Als weitere Attribute besitzt diese Klasse den Titel des Bildes sowie den Pfad, an welchem das Bild liegt.

\textbf{Reifensatz}: Ein Reifensatz ist einem Fahrzeug zugeordnet, weshalb zwischen diesen beiden Klassen eine Assoziation besteht. Jeder Reifensatz besteht zudem aus vier Reifen und potenziell einem weiteren Reifen (Ersatzreifen).

\textbf{Reifen}: Die Klasse Reifen stellt die Reifen der Fahrzeuge dar. Ein Reifen wird hierbei durch den Hersteller, das Modell, den Zeitpunkt der Herstellung, die Profiltiefe und die Fahrtrichtung beschrieben.

\textbf{Kennzeichen}: Das Kennzeichen dient der Identifikation eines Fahrzeugs. Um das Kennzeichen eines Fahrzeugs in der Anwendung darzustellen wird die Klasse 'Kennzeichen' implementiert, welche die Zulassungsstelle, die Art des Kennzeichens und eine Zeichenkette für das eigentliche Kennzeichen als Attribute enthält.

\textbf{Ausrüstung}: Die Klasse 'Ausrüstung' stellt die Ausrüstung eines Fahrzeugs dar. Dabei handelt es sich nicht um die Ausstattung des Fahrzeugs (Klimaanlage, Panoramaschiebedach, ...), sondern um Fahrradträger, Dachbox und Hundetransportbox. Die Klasse 'Ausrüstung' fungiert dabei als Oberklasse der Ausrüstungsgegenstände und besitzt als Attribute die Kompatibilität mit den verschiedenen Fahrzeugen und das Fahrzeug, welches den Gegenstand momentan ausgerüstet hat. Da die Ausrüstung immer einem Fahrzeug zugeordnet ist, wird stets ein Fahrzeug referenziert.

\textbf{Rechnung}: Eine Rechnung fällt immer nach dem Abschluss einer Fahrt an. Die Klasse 'Rechnung' bildet solch eine Rechnung ab und beinhaltet Methoden um basierend auf der Buchung eine Rechnung zu erstellen und an den Kunden zu versenden. Solch eine Rechnung referenziert dabei immer auf die zugrundeliegende Buchung.

\textbf{Mahnung}: Wenn der Kunde die Rechnung nicht im vorgegebenen Zeitraum begleicht, wird eine Mahnung versendet. Die Klasse 'Mahnung' bildet solch eine Mahnung ab und beinhaltet Methoden, um basierend auf der Buchung eine Mahnung zu erstellen und um diese anschließend an den Kunden zu versenden. Da eine Mahnung stets auf einer Buchung basiert, wird die zugrundeliegende Buchung referenziert.

\textbf{Standort}: Das Unternehmen ist an verschiedensten Standorten tätig. Um diese Standorte abzubilden wird eine Klasse 'Standort' implementiert, welche in Assoziation mit den Klassen 'Fahrzeug' und 'Filiale' steht. Dadurch können dem Standort alle Mitarbeiter und Fahrzeuge zugeordnet werden.
Des Weiteren wird der Standort durch eine Beschreibung und einen Namen beschrieben. Die Anzahl der Fahrzeuge und Filialen ist hierbei nicht beschränkt.

\textbf{Filiale}: Die Klasse 'Filiale' stellt eine Filiale des Unternehmens dar. Dafür wird die Filiale sowohl mit dem Standort als auch mit den Mitarbeitern sowie einer Adresse in Assoziation gesetzt. Außerdem besitzt diese Klasse die Anzahl der Mitarbeiter als Attribut. Eine Fililae ist stets immer einem Standort zugeordnet und hat genau eine Adresse sowie mindestens einen Mitarbeiter. 

\textbf{Rabattaktion}: Mit der Klasse 'Rabattaktion' werden die Rabattaktionen dargestellt. Dazu besitzt diese Klasse den prozentualen Preisnachlass und den Namen der Rabattaktion als Attribute.

\textbf{Backup}: Die Klasse Backup ist für die Darstellung der Backups zuständig. Dafür wird zum einen das Datum und die Uhrzeit der Erstellung des Backups und zum anderen der Pfad, unter welchem das Backup abgelegt wurde, als Attribut bereitgestellt.

\textbf{Hundetransportbox}: Die Hundetransportbox ist eine der Unterklassen der Ausrüstung, welche die Klasse 'Ausrüstung' um folgende Attribute erweitert: Das Maximalgewicht des Hundes, Höhe, Breite und Länge sowie das Volumen.

\textbf{Fahrradträger}: Ein Fahrradträger ist ebenfalls ein Teil der Ausrüstung und somit eine Unterklasse der Klasse 'Ausrüstung'. Die Klasse Fahrradträger hat zusätzlich Attribute für die Anzahl der Fahrräder, welche mit dem Fahrradträger Transportiert werden können, und das Maximale Gewicht, mit welchem der Fahrradträger beladen werden darf.

\textbf{Dachbox}: Die letzte Unterklasse der Ausrüstung ist die Dachbox, welche zusätzlich Attribute für das Volumen und die Abschließbarkeit der Dachbox besitzt.


\newpage


\section{Diagramm}

\begin{figure}[!ht]
    \centering
    \includegraphics[width=\textwidth, trim = 0cm 9cm 0cm 0cm]{Bilder/Diagramme/Analyseklassendiagramm.pdf}
    \caption{Analyseklassendiagramm}
    \label{img:akd}
\end{figure}